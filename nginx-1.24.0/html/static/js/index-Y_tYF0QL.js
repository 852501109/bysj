import{useObj as O}from"./hook-C7VjplqT.js";import{d as q,a as A,P as G}from"./refresh-CzTQiD9_.js";import{u as c}from"./hooks-Cd3mbshJ.js";import{d as H}from"./edit-pen-Ci7W0xNM.js";import{d as J}from"./add-circle-line-DOJqVT3s.js";import{d as K,r as y,k,f as p,i as o,w as t,u as e,b as l,j as M,e as x,h as i,m as Q,B as W,C as X,_ as Y}from"./index-Zjjfkekr.js";import"./index.vue_vue_type_script_setup_true_lang-D56-mopa.js";import"./index-BmD-sjfu.js";import"./index.esm-BcMmGP1h.js";import"./epTheme-CRrriJy_.js";import"./sortable.esm-6WsHlDA5.js";const Z={class:"flex justify-between"},ee={class:"w-[calc(100%)]"},oe={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},te={class:"flex-auto"},ae={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},ne=K({name:"SystemUser",__name:"index",setup(le){const f=y(),u=y(),{form:s,loading:_,columns:S,dataList:V,selectedNum:g,pagination:w,buttonClass:re,onSearch:C,resetForm:R,onbatchDel:$,openDialog:h,handleUpdate:ie,handleDelete:B,handleReset:se,handleRole:ce,handleSizeChange:D,onSelectionCancel:P,handleCurrentChange:z,handleSelectionChange:N}=O(u);return(me,n)=>{const U=l("el-input"),m=l("el-form-item"),b=l("el-option"),j=l("el-select"),r=l("el-button"),I=l("el-form"),v=l("el-popconfirm"),T=l("pure-table"),E=M("motion-fade");return x(),k("div",Z,[p("div",ee,[o(I,{ref_key:"formRef",ref:f,inline:!0,model:e(s),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:t(()=>[o(m,{label:"公告名称：",prop:"name"},{default:t(()=>[o(U,{modelValue:e(s).name,"onUpdate:modelValue":n[0]||(n[0]=a=>e(s).name=a),placeholder:"请输入公告名称",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])]),_:1}),o(m,{label:"状态：",prop:"status"},{default:t(()=>[o(j,{modelValue:e(s).status,"onUpdate:modelValue":n[1]||(n[1]=a=>e(s).status=a),placeholder:"请选择",clearable:"",class:"!w-[180px]"},{default:t(()=>[o(b,{label:"已启用",value:"1"}),o(b,{label:"已停用",value:"0"})]),_:1},8,["modelValue"])]),_:1}),o(m,null,{default:t(()=>[o(r,{type:"primary",icon:e(c)("ri:search-line"),loading:e(_),onClick:e(C)},{default:t(()=>[i(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(r,{icon:e(c)(e(q)),onClick:n[2]||(n[2]=a=>e(R)(f.value))},{default:t(()=>[i(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(G),{title:"公告管理",columns:e(S),onRefresh:e(C)},{buttons:t(()=>[o(r,{type:"primary",icon:e(c)(e(J)),onClick:n[3]||(n[3]=a=>e(h)())},{default:t(()=>[i(" 新增公告 ")]),_:1},8,["icon"])]),default:t(({size:a,dynamicColumns:F})=>[e(g)>0?Q((x(),k("div",oe,[p("div",te,[p("span",ae," 已选 "+W(e(g))+" 项 ",1),o(r,{type:"primary",text:"",onClick:e(P)},{default:t(()=>[i(" 取消选择 ")]),_:1},8,["onClick"])]),o(v,{title:"是否确认删除?",onConfirm:e($)},{reference:t(()=>[o(r,{type:"danger",text:"",class:"mr-1"},{default:t(()=>[i(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[E]]):X("",!0),o(T,{ref_key:"tableRef",ref:u,"row-key":"id",adaptive:"",adaptiveConfig:{offsetBottom:108},"align-whole":"center","table-layout":"auto",loading:e(_),size:a,data:e(V),columns:F,pagination:e(w),paginationSmall:a==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(N),onPageSizeChange:e(D),onPageCurrentChange:e(z)},{operation:t(({row:d})=>[o(r,{class:"reset-margin",link:"",type:"primary",size:a,icon:e(c)(e(H)),onClick:L=>e(h)("修改",d)},{default:t(()=>[i(" 修改 ")]),_:2},1032,["size","icon","onClick"]),o(v,{title:`是否确认删除公告名称为${d.name}的这条数据`,onConfirm:L=>e(B)(d)},{reference:t(()=>[o(r,{class:"reset-margin",link:"",type:"primary",size:a,icon:e(c)(e(A))},{default:t(()=>[i(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"])]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])])}}}),ke=Y(ne,[["__scopeId","data-v-3ef86d61"]]);export{ke as default};
