import{useObj as F}from"./hook-DTjIK3m6.js";import{d as L,a as O,P as q}from"./refresh-CzTQiD9_.js";import{u as s}from"./hooks-Cd3mbshJ.js";import{d as A}from"./edit-pen-Ci7W0xNM.js";import{d as G}from"./add-circle-line-DOJqVT3s.js";import{d as H,r as y,k as v,f as d,i as o,w as t,u as e,b as r,j as J,e as k,h as l,m as K,B as M,C as Q,_ as W}from"./index-Zjjfkekr.js";import"./index.vue_vue_type_script_setup_true_lang-BOf3kWLs.js";import"./index-BmD-sjfu.js";import"./index.esm-BcMmGP1h.js";import"./epTheme-CRrriJy_.js";import"./sortable.esm-6WsHlDA5.js";const X={class:"flex justify-between"},Y={class:"w-[calc(100%)]"},Z={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},ee={class:"flex-auto"},oe={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},te=H({name:"SystemUser",__name:"index",setup(ne){const p=y(),f=y(),{form:c,loading:_,columns:x,dataList:S,selectedNum:u,pagination:R,buttonClass:ae,onSearch:g,resetForm:w,onbatchDel:$,openDialog:h,handleUpdate:le,handleDelete:V,handleReset:ie,handleRole:re,handleSizeChange:B,onSelectionCancel:D,handleCurrentChange:P,handleSelectionChange:z}=F(f);return(se,i)=>{const N=r("el-input"),C=r("el-form-item"),a=r("el-button"),j=r("el-form"),b=r("el-popconfirm"),U=r("pure-table"),I=J("motion-fade");return k(),v("div",X,[d("div",Y,[o(j,{ref_key:"formRef",ref:p,inline:!0,model:e(c),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:t(()=>[o(C,{label:"姓名：",prop:"name"},{default:t(()=>[o(N,{modelValue:e(c).name,"onUpdate:modelValue":i[0]||(i[0]=n=>e(c).name=n),placeholder:"请输入姓名",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])]),_:1}),o(C,null,{default:t(()=>[o(a,{type:"primary",icon:e(s)("ri:search-line"),loading:e(_),onClick:e(g)},{default:t(()=>[l(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(a,{icon:e(s)(e(L)),onClick:i[1]||(i[1]=n=>e(w)(p.value))},{default:t(()=>[l(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(q),{title:"社区人员管理",columns:e(x),onRefresh:e(g)},{buttons:t(()=>[o(a,{type:"primary",icon:e(s)(e(G)),onClick:i[2]||(i[2]=n=>e(h)())},{default:t(()=>[l(" 新增社区人员 ")]),_:1},8,["icon"])]),default:t(({size:n,dynamicColumns:T})=>[e(u)>0?K((k(),v("div",Z,[d("div",ee,[d("span",oe," 已选 "+M(e(u))+" 项 ",1),o(a,{type:"primary",text:"",onClick:e(D)},{default:t(()=>[l(" 取消选择 ")]),_:1},8,["onClick"])]),o(b,{title:"是否确认删除?",onConfirm:e($)},{reference:t(()=>[o(a,{type:"danger",text:"",class:"mr-1"},{default:t(()=>[l(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[I]]):Q("",!0),o(U,{ref_key:"tableRef",ref:f,"row-key":"id",adaptive:"",adaptiveConfig:{offsetBottom:108},"align-whole":"center","table-layout":"auto",loading:e(_),size:n,data:e(S),columns:T,pagination:e(R),paginationSmall:n==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(z),onPageSizeChange:e(B),onPageCurrentChange:e(P)},{operation:t(({row:m})=>[o(a,{class:"reset-margin",link:"",type:"primary",size:n,icon:e(s)(e(A)),onClick:E=>e(h)("修改",m)},{default:t(()=>[l(" 修改 ")]),_:2},1032,["size","icon","onClick"]),o(b,{title:`是否确认删除姓名为${m.name}的这条数据`,onConfirm:E=>e(V)(m)},{reference:t(()=>[o(a,{class:"reset-margin",link:"",type:"primary",size:n,icon:e(s)(e(O))},{default:t(()=>[l(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"])]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])])}}}),ye=W(te,[["__scopeId","data-v-0680019c"]]);export{ye as default};
